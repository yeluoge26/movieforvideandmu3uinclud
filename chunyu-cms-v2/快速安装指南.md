# ğŸš€ MySQL å’Œ Redis å¿«é€Ÿå®‰è£…æŒ‡å—

## ğŸ“¥ ä¸‹è½½é“¾æ¥

### MySQL 8.0
- **å®˜æ–¹ä¸‹è½½**: https://dev.mysql.com/downloads/mysql/
- **æ¨è**: ä¸‹è½½ `MySQL Installer for Windows` (çº¦400MB)
- **æˆ–ä½¿ç”¨**: XAMPP (åŒ…å«MySQL): https://www.apachefriends.org/

### Redis (Windows)
- **æ–¹å¼1 - Memurai** (æ¨è): https://www.memurai.com/get-memurai
- **æ–¹å¼2 - GitHubç‰ˆæœ¬**: https://github.com/microsoftarchive/redis/releases
- **æ–¹å¼3 - Docker**: å¦‚æœå·²å®‰è£…Docker Desktop

---

## ğŸ¯ æ¨èå®‰è£…æ–¹å¼

### æ–¹æ¡ˆ A: å®˜æ–¹å®‰è£…ï¼ˆç¨³å®šï¼Œæ¨èï¼‰

#### 1. å®‰è£… MySQL

1. ä¸‹è½½ MySQL Installer: https://dev.mysql.com/downloads/installer/
2. è¿è¡Œå®‰è£…ç¨‹åºï¼Œé€‰æ‹© **Developer Default**
3. é…ç½®æ—¶è®¾ç½® **root å¯†ç **ï¼ˆè¯·è®°ä½ï¼ï¼‰
4. å®Œæˆå®‰è£…åï¼ŒMySQLä¼šè‡ªåŠ¨å¯åŠ¨

**éªŒè¯å®‰è£…:**
```powershell
mysql --version
net start MySQL80
```

#### 2. å®‰è£… Redis

**é€‰é¡¹1: ä½¿ç”¨ Memurai (æœ€ç®€å•)**
1. ä¸‹è½½: https://www.memurai.com/get-memurai
2. è¿è¡Œå®‰è£…ç¨‹åº
3. å®‰è£…å®Œæˆåä¼šè‡ªåŠ¨å¯åŠ¨

**é€‰é¡¹2: ä½¿ç”¨ Docker (å¦‚æœå·²å®‰è£…Docker)**
```powershell
docker pull redis
docker run -d --name redis -p 6379:6379 redis
```

**é€‰é¡¹3: ä½¿ç”¨ GitHub Windowsç‰ˆæœ¬**
1. ä¸‹è½½: https://github.com/microsoftarchive/redis/releases
2. è§£å‹åˆ° `C:\Redis`
3. è¿è¡Œ `redis-server.exe`

**éªŒè¯å®‰è£…:**
```powershell
redis-cli ping
# åº”è¯¥è¿”å›: PONG
```

---

### æ–¹æ¡ˆ B: ä½¿ç”¨ XAMPP (æœ€ç®€å•ï¼Œé€‚åˆåˆå­¦è€…)

#### 1. å®‰è£… XAMPP
1. ä¸‹è½½: https://www.apachefriends.org/
2. å®‰è£…æ—¶é€‰æ‹© **MySQL** ç»„ä»¶
3. æ‰“å¼€ XAMPP Control Panelï¼Œå¯åŠ¨ MySQL

**æ³¨æ„**: XAMPP çš„ MySQL é»˜è®¤ root å¯†ç ä¸ºç©º

#### 2. å®‰è£… Redis (ä»éœ€å•ç‹¬å®‰è£…)
æŒ‰ç…§æ–¹æ¡ˆAä¸­çš„Rediså®‰è£…æ­¥éª¤

---

## âš™ï¸ å®‰è£…åé…ç½®

### 1. å¯åŠ¨æœåŠ¡

```powershell
# MySQL
net start MySQL80

# Redis (å¦‚æœä½œä¸ºæœåŠ¡å®‰è£…)
net start Redis

# æˆ–ä½¿ç”¨ XAMPP Control Panel å¯åŠ¨ MySQL
```

### 2. åˆ›å»ºæ•°æ®åº“

```powershell
# è¿æ¥åˆ° MySQL (XAMPPç”¨æˆ·ç›´æ¥æŒ‰å›è½¦ï¼Œå®˜æ–¹å®‰è£…è¾“å…¥rootå¯†ç )
mysql -u root -p

# åœ¨ MySQL ä¸­æ‰§è¡Œ
CREATE DATABASE `chunyu-cms-v2` CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
EXIT;
```

### 3. å¯¼å…¥æ•°æ®åº“

```powershell
cd chunyu-cms-v2\chunyu-cms-web
mysql -u root -p chunyu-cms-v2 < chunyu-cms-v2.sql
```

### 4. é…ç½® .env æ–‡ä»¶

åœ¨ `chunyu-cms-web` ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
DATABASE_USERNAME=root
DATABASE_PASSWORD=ä½ çš„MySQLå¯†ç 
DATABASE_HOST=127.0.0.1
DATABASE_PORT=3306
DATABASE_DB=chunyu-cms-v2

REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_USERNAME=
REDIS_PASSWORD=
REDIS_DB=0

JWT_SECRET=chunyu-cms-v2
IS_DEMO_ENVIRONMENT=false
SERVER_HOST=http://localhost:3000
IMG_HOST=http://localhost:3000
ANTI_DEBUG_ENABLED=false
```

---

## âœ… éªŒè¯å®‰è£…

è¿è¡Œæ£€æŸ¥è„šæœ¬ï¼š
```powershell
cd chunyu-cms-v2\chunyu-cms-web
.\check-services.ps1
```

æˆ–æ‰‹åŠ¨æ£€æŸ¥ï¼š
```powershell
# æ£€æŸ¥ MySQL
Test-NetConnection -ComputerName 127.0.0.1 -Port 3306

# æ£€æŸ¥ Redis
Test-NetConnection -ComputerName 127.0.0.1 -Port 6379
redis-cli ping
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### MySQL æ— æ³•å¯åŠ¨
- æ£€æŸ¥ç«¯å£3306æ˜¯å¦è¢«å ç”¨
- ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤
- æŸ¥çœ‹ Windows äº‹ä»¶æŸ¥çœ‹å™¨ä¸­çš„é”™è¯¯

### Redis æ— æ³•å¯åŠ¨
- å¦‚æœä½¿ç”¨Dockerï¼Œæ£€æŸ¥å®¹å™¨çŠ¶æ€: `docker ps`
- æ£€æŸ¥ç«¯å£6379æ˜¯å¦è¢«å ç”¨
- å°è¯•ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ

### å¿˜è®° MySQL å¯†ç 
1. åœæ­¢æœåŠ¡: `net stop MySQL80`
2. ä½¿ç”¨ `--skip-grant-tables` å¯åŠ¨
3. é‡ç½®å¯†ç åé‡å¯

---

## ğŸ“ ä¸‹ä¸€æ­¥

å®‰è£…å®Œæˆåï¼š
1. âœ… å¯åŠ¨ MySQL å’Œ Redis æœåŠ¡
2. âœ… åˆ›å»ºæ•°æ®åº“å¹¶å¯¼å…¥æ•°æ®
3. âœ… é…ç½® `.env` æ–‡ä»¶
4. âœ… è¿è¡Œ `pnpm dev` å¯åŠ¨é¡¹ç›®

è®¿é—®: http://localhost:3000
